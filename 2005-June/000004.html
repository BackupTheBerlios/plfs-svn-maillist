<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Plfs-svn] doc 00-plfs.bib,1.2,1.3 00-plfs.tex,1.1,1.2 02.tex,1.5,1.6 03.tex,1.3,1.4 04.tex,1.2,1.3
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/plfs-svn/2005-June/index.html" >
   <LINK REL="made" HREF="mailto:plfs-svn%40lists.berlios.de?Subject=Re%3A%20%5BPlfs-svn%5D%20doc%2000-plfs.bib%2C1.2%2C1.3%2000-plfs.tex%2C1.1%2C1.2%2002.tex%2C1.5%2C1.6%2003.tex%2C1.3%2C1.4%2004.tex%2C1.2%2C1.3&In-Reply-To=%3C200506122013.j5CKDP122438%40bat.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000003.html">
   <LINK REL="Next"  HREF="000005.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Plfs-svn] doc 00-plfs.bib,1.2,1.3 00-plfs.tex,1.1,1.2 02.tex,1.5,1.6 03.tex,1.3,1.4 04.tex,1.2,1.3</H1>
    <B>xscript</B> 
    <A HREF="mailto:plfs-svn%40lists.berlios.de?Subject=Re%3A%20%5BPlfs-svn%5D%20doc%2000-plfs.bib%2C1.2%2C1.3%2000-plfs.tex%2C1.1%2C1.2%2002.tex%2C1.5%2C1.6%2003.tex%2C1.3%2C1.4%2004.tex%2C1.2%2C1.3&In-Reply-To=%3C200506122013.j5CKDP122438%40bat.berlios.de%3E"
       TITLE="[Plfs-svn] doc 00-plfs.bib,1.2,1.3 00-plfs.tex,1.1,1.2 02.tex,1.5,1.6 03.tex,1.3,1.4 04.tex,1.2,1.3">nobody at sheep.berlios.de
       </A><BR>
    <I>Sun Jun 12 22:13:25 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000003.html">[Plfs-svn] doc 00-plfs.bib,1.1,1.2 02.tex,1.3,1.4 03.tex,1.1,1.2
</A></li>
        <LI>Next message: <A HREF="000005.html">[Plfs-svn] doc 00-plfs.tex,1.2,1.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4">[ date ]</a>
              <a href="thread.html#4">[ thread ]</a>
              <a href="subject.html#4">[ subject ]</a>
              <a href="author.html#4">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/plfs/doc
In directory sheep:/tmp/cvs-serv28535

Modified Files:
	00-plfs.bib 00-plfs.tex 02.tex 03.tex 04.tex 
Log Message:
Petites correccions d'estil mes TODOs

Index: 00-plfs.bib
===================================================================
RCS file: /cvsroot/plfs/doc/00-plfs.bib,v
retrieving revision 1.2
retrieving revision 1.3
diff -C2 -d -r1.2 -r1.3
*** 00-plfs.bib	9 Jun 2005 21:42:23 -0000	1.2
--- 00-plfs.bib	12 Jun 2005 20:13:22 -0000	1.3
***************
*** 35,44 ****
  
  @manual{rfc-track,
! title = {Tree-Based ACK (TRACK) Building Block for Reliable Multicast
! Transport},
! author = {Brian Whetten, Dah Ming Chiu, Miriam Kadansky},
! organization = {RMT Working Group, IETF},
! month = {December},
! year = {2003}
  }
  
--- 35,43 ----
  
  @manual{rfc-track,
! 	title = {Tree-Based ACK (TRACK) Building Block for Reliable Multicast Transport},
! 	author = {Brian Whetten, Dah Ming Chiu, et al.},
! 	organization = {RMT Working Group, IETF},
! 	month = {December},
! 	year = {2003}
  }
  
***************
*** 104,109 ****
  	note = {\\<A HREF="http://www.cs.arizona.edu/stork/">http://www.cs.arizona.edu/stork/</A>}
  }
- 
- 
- 
  
--- 103,105 ----

Index: 00-plfs.tex
===================================================================
RCS file: /cvsroot/plfs/doc/00-plfs.tex,v
retrieving revision 1.1
retrieving revision 1.2
diff -C2 -d -r1.1 -r1.2
*** 00-plfs.tex	27 May 2005 19:44:51 -0000	1.1
--- 00-plfs.tex	12 Jun 2005 20:13:22 -0000	1.2
***************
*** 75,83 ****
  \renewcommand{\headrulewidth}{0.4pt}
  
! \input{01.tex}
! \input{02.tex}
! \input{03.tex}
! \input{04.tex}
! \input{05.tex}
  
  \pagebreak
--- 75,83 ----
  \renewcommand{\headrulewidth}{0.4pt}
  
! \input{01}
! \input{02}
! \input{03}
! \input{04}
! \input{05}
  
  \pagebreak

Index: 02.tex
===================================================================
RCS file: /cvsroot/plfs/doc/02.tex,v
retrieving revision 1.5
retrieving revision 1.6
diff -C2 -d -r1.5 -r1.6
*** 02.tex	11 Jun 2005 18:25:53 -0000	1.5
--- 02.tex	12 Jun 2005 20:13:22 -0000	1.6
***************
*** 175,178 ****
--- 175,181 ----
  		El script tiene un s&#243;lo par&#225;metro que puede ser:
  
+ 		% TODO(~): NOTA MENTAL: &#191;al terminar la m&#225;quina virtual, ya
+ 		% ejecutar&#225; dicho startup-&gt;stop?
+ 		% =&gt; potser caldria comentar-ho a la documentaco (com a que ho donem per fet)
  		\begin{description}
  			\item [start:] lleva a cabo las operaciones para
***************
*** 327,330 ****
--- 330,341 ----
  \section{L&#243;gica de Desplegamiento}
  
+ % TODO: HAY QUE AVISAR DE CUALES SE HA PODIDO DESPLEGAR Y CUALES NO
+ % que hacer con los que se han quedado a medias/han fallado?
+ % estaria bien un fichero de estado? Lista de nodos registrados en PLC en el slice, con:
+ % - ultima operacion realizada
+ % - ultima operacion fallida
+ % - ultima operacion en proceso
+ % - nodo no accesible (no responde)
+ 
  Despu&#233;s de pensar diferentes posibilidades sobre como el usuario podr&#237;a llevar
  a cabo realmente el despliegue mediante el sistema de ficheros, hemos llegado
***************
*** 395,398 ****
--- 406,411 ----
  		presente. Para ello, primero ejecuta el \textbf{deploy} y luego
  		el \textbf{start}.
+ 		% TODO: diferenciar primeros de ultimo fichero
+ 		% ahora el ultimo debe ser el script y se hara el deploy+start
  \end{enumerate}
  
***************
*** 455,459 ****
  		paquetes, el cual puede realizar las operaciones
  		correspondientes seg&#250;n el TRACK total obtenido.
- 
  \end{description}
  
--- 468,471 ----
***************
*** 511,518 ****
  % TODO (!!!!!): Cuando se abren las conexiones SSH? timeout?
  %       Cuando se dan las claves y passwd ssh?
- %
- 
  
  % TODO(?): 'ls' =&gt; renew =&gt; cheksums??
- s%
- 
--- 523,526 ----

Index: 03.tex
===================================================================
RCS file: /cvsroot/plfs/doc/03.tex,v
retrieving revision 1.3
retrieving revision 1.4
diff -C2 -d -r1.3 -r1.4
*** 03.tex	11 Jun 2005 18:25:53 -0000	1.3
--- 03.tex	12 Jun 2005 20:13:22 -0000	1.4
***************
*** 20,23 ****
--- 20,24 ----
  \pldb para las que hace de intermediario, son las siguientes:
  
+ %TODO: es solo esto?
  \begin{description}
  	\item[\texttt{execute(component, operation, \ldots)}] :\\
***************
*** 28,31 ****
--- 29,33 ----
  
  
+ 
  \section{\dpld}
  
***************
*** 45,48 ****
--- 47,53 ----
  		script de inicializaci&#243;n, y la clave y password de ssh del
  		slice.
+ 		\\
+ 		% TODO: pero ahora hay TRACK!!!
+ 		% primer intento + reintentos a solo a quien falla? (pero por multicast si cierto numero)
  		NOTA: La operaci&#243;n no puede devolver resultado de &#233;xito,
  		puesto que la implementaci&#243;n de ACKS en Multicast tiene
***************
*** 73,83 ****
  		directorio).
  		%NOTA: de que puede servir invalidar un objeto del FS?
- 		% TODO(?): validaciones? temporalidad?     ES UTIL PLANTEARSELO?
  
  	
  	\item[\texttt{getInfoFilesShared (slice\_name)}] :\\
  		Env&#237;a una petici&#243;n a multicast de informaci&#243;n de los ficheros
  		de tipo \textit{shared} del slice \textit{slice\_name}.
  
  	\item[\texttt{getInfoFilesUnshared (node\_name,slice\_name)}] :\\
  		Env&#237;a una petici&#243;n unicast hacia el \dplc del nodo
--- 78,90 ----
  		directorio).
  		%NOTA: de que puede servir invalidar un objeto del FS?
  
+ 	% TODO(?): validaciones? temporalidad?     ES UTIL PLANTEARSELO?
  	
+ 	% TODO: quien lo utiliza?
  	\item[\texttt{getInfoFilesShared (slice\_name)}] :\\
  		Env&#237;a una petici&#243;n a multicast de informaci&#243;n de los ficheros
  		de tipo \textit{shared} del slice \textit{slice\_name}.
  
+ 	% TODO: quien lo utiliza?
  	\item[\texttt{getInfoFilesUnshared (node\_name,slice\_name)}] :\\
  		Env&#237;a una petici&#243;n unicast hacia el \dplc del nodo
***************
*** 85,89 ****
  		tipo \textit{unshared} del slice \textit{slice\_name} para dicho
  		nodo.
- 		
  \end{description}
  
--- 92,95 ----
***************
*** 186,192 ****
  		Recibe datos procedentes de un emisor del grupo, y se los pasa
  		al m&#243;dulo \dplc (quien se encargar&#225; del despliegue.
! 		
  	%TODO(~): addGroup / deleteGroup ?
! 	
  	\item[\texttt{join (group\_name, node\_name)}] :\\
  		%TODO(?): hace falta el nombre o ya va bien por remitente?
--- 192,198 ----
  		Recibe datos procedentes de un emisor del grupo, y se los pasa
  		al m&#243;dulo \dplc (quien se encargar&#225; del despliegue.
! 
  	%TODO(~): addGroup / deleteGroup ?
! 
  	\item[\texttt{join (group\_name, node\_name)}] :\\
  		%TODO(?): hace falta el nombre o ya va bien por remitente?
***************
*** 198,202 ****
  		%TODO(?): c&#243;mo hacer el delete de otro?
  		Permite eliminar un nodo de un grupo multicast
- 
  \end{description}
  
--- 204,207 ----
***************
*** 226,230 ****
  multicast en modo usuario, como es Araneola \cite{Araneola}.
  
! %TODO(&#172;&#172;): EXPLICAR ARANEAOLA SI ES LA UNICA SOLUCIO
  %TODO: Operaciones?
  
--- 231,235 ----
  multicast en modo usuario, como es Araneola \cite{Araneola}.
  
! %TODO(!!!): EXPLICAR ARANEAOLA SI ES LA UNICA SOLUCIO
  %TODO: Operaciones?
  
***************
*** 266,274 ****
  % TODO(?): seguridad?
  \begin{description}
  	\item[\texttt{getInfoNodeSlice(slice\_name)}] :\\
  		Obtiene la informaci&#243;n de los ficheros tipo \textit{unshared}
  		de la aplicaci&#243;n desplegada en el slice \textit{slice\_name} en
  		el mismo nodo que el propio \dplc.
! 		
  	\item[\texttt{warnDpldNewNodeInSlice (slice\_name, node\_name)}] :\\
  		Avisa a los \dpld encargados del slice \textit{slice\_name} de
--- 271,281 ----
  % TODO(?): seguridad?
  \begin{description}
+ 	% TODO: que es _la informacion_?
  	\item[\texttt{getInfoNodeSlice(slice\_name)}] :\\
  		Obtiene la informaci&#243;n de los ficheros tipo \textit{unshared}
  		de la aplicaci&#243;n desplegada en el slice \textit{slice\_name} en
  		el mismo nodo que el propio \dplc.
! 
! 	% TODO: ELIMINAR: llama a la operacion, no la ofrece
  	\item[\texttt{warnDpldNewNodeInSlice (slice\_name, node\_name)}] :\\
  		Avisa a los \dpld encargados del slice \textit{slice\_name} de
***************
*** 276,294 ****
  		slice y que por lo tanto se le deber&#237;a realziar el despliegue de
  		la aplicaci&#243;n.
! 	
  	\item[\texttt{deployAppToSlice (slice\_name, ...)}] :\\
  		Realiza la conexi&#243;n por ssh al slice destino, despliega la
! 		aplicaci&#243;n y ejecuta el script de inicializaci&#243;n.	
! 	
  	\item[\texttt{registerToDplc (node\_name, slice\_name)}] :\\
  		Un nodo se registra en \dplc como integrante del slice
  		slice\_name al que se va realizar desplegamiento de
  		aplicaciones.
! 	
  	\item[\texttt{stopAppInSlice (slice\_name)}] :
  		El \dplc del nodo ejecutar&#225; script-&gt;stop en el slice
  		\textit{slice\_name} de dicho nodo. Es decir, detendr&#225; la
  		aplicaci&#243;n desplegada en &#233;l.
! 	
  	\item[\texttt{invalidateObj (slice\_name, name)}] :\\
  		% TODO(~): utilizar identificador de obj diferente del path?
--- 283,302 ----
  		slice y que por lo tanto se le deber&#237;a realziar el despliegue de
  		la aplicaci&#243;n.
! 
  	\item[\texttt{deployAppToSlice (slice\_name, ...)}] :\\
  		Realiza la conexi&#243;n por ssh al slice destino, despliega la
! 		aplicaci&#243;n y ejecuta el script de inicializaci&#243;n.
! 
  	\item[\texttt{registerToDplc (node\_name, slice\_name)}] :\\
  		Un nodo se registra en \dplc como integrante del slice
  		slice\_name al que se va realizar desplegamiento de
  		aplicaciones.
! 
! 	% TODO: para que? se para sola... hace falta ofrecer la opcion de pararla?
  	\item[\texttt{stopAppInSlice (slice\_name)}] :
  		El \dplc del nodo ejecutar&#225; script-&gt;stop en el slice
  		\textit{slice\_name} de dicho nodo. Es decir, detendr&#225; la
  		aplicaci&#243;n desplegada en &#233;l.
! 
  	\item[\texttt{invalidateObj (slice\_name, name)}] :\\
  		% TODO(~): utilizar identificador de obj diferente del path?
***************
*** 297,313 ****
  		directorio)
  
! 		% TODO(?): validaciones? temporalidad?
! 		
  \end{description}
  
  % TODO(~): se&#241;alar los triggers de join / delete de los grupos
  
  
  
  \section{\famon}
  
! Las operaciones que debe ofrecer \famon son las siguientes:
  
  % TODO: operaciones de viliar / dejar paths concretos?
  
! % TODO: buscar un buen programa que lo haga =&gt; famd?
\ No newline at end of file
--- 305,384 ----
  		directorio)
  
! 	% TODO(?): validaciones? temporalidad?
  \end{description}
  
  % TODO(~): se&#241;alar los triggers de join / delete de los grupos
  
+ % TODO:
+ %Cuando se a&#241;ade un nodo a un slice en el que se realiza desplegamiento, se
+ %tiene que informar al m&#243;dulo \dpld, puesto que es posible que ya se hubiera
+ %realizado un desplagamiento previo a dicho slice y \dpld tenga que realizar un
+ %deployment al nodo en concreto.
+ %
+ %Para ello hemos pensado en un protocolo de &quot;warnings&quot; en el que \dplc realizara
+ %comunicaciones multicast hacia los nodos \dpld, comunic&#225;ndoles:
+ %	- nodo
+ %	- slice
+ %
+ % ===&gt;&gt;&gt; LA QUAL COSA ACABARIA AMB L'OPERACIO QUE HE AFEGIT addNodeToSlice de
+ %	dpld
+ %
+ % Como diferenciar al entrar un nodo en un grupo de si ya esta al dia o no?
+ % - no se hace nada (solo hay cambios si esta presente en un deploy expreso)
+ % - tiene la ultima version de los ficheros (numeracion + indicador de ultima version (*))
+ % - los tiene igual que la mayoria (checksums + problema bizantino)
+ % - los tiene igual que un repositorio (checksums + repositorio - bamboo? -)
+ %
+ % (*) Puede ser:
+ % o el nunmero mas grande que den los miembros del grupo
+ %   - deben responder todos
+ %   - alguien puede enga&#241;arnos y dar un numero equivocado?
+ %   -&gt; dplc nos firma la version -&gt; garantiza la validez (como el algodon, 
+ %     dplc nuca enga&#241;a)
+ % o el numero que den la mayoria
+ %   - deben responder todos
+ %   - podemos tirar a una version anterior (pq la mayoria de ahora no estaban
+ %     presentes en un deployment anterior y decidieron al connectar que la
+ %     version era esta)
+ % o lo que digan los dpld (mayoria o maximo)
+ %   - debe haber dpld en marcha
+ %   + #dpld &lt; #dplc
+ % o lo que diga un repositorio central
+ %   - poca escalabilidad
+ %   - punto unico de fallada
+ %   + resultados fiables
+ %
+ % Al detectar un desfase de las versiones (nodo corrupto?), que hacer:
+ % - protocolo de las transparencias
+ % - parar y esperar al siguiente deployment
+ 
  
  
  \section{\famon}
  
! &#201;ste m&#243;dulo est&#225; situado en las m&#225;quinas clientes de la red, y se encarga de
! monitorizar los ficheros que han sido desplegados en un nodo de un slice.
  
+ Para ello debe haber una instancia corriendo en cada m&#225;quina virtual que
+ corresponda a un slice que funciona a traves de \plfs.
+ 
+ % TODO: quien/cuando se arranca?
+ % TODO: que se vilgila?
+ % - ficheros desplegados expresamente
+ % - ficheros resultado de (genereados despues de) desplegar y/o arrancar la aplicacion
+ %   (como se detecta que crea la aplicacion y que lo hace el usuario u otro proceso que no es
+ %   la aplicacion desplegada?)
+ %   (si se detecta, como diferenciar shared/unshared?)
+ %
+ % Yo solo vigilaria lo desplegado expresamente.
+ 
+ % TODO (no va aqui)
+ % script-&gt;deploy : depliega la aplicacion y guarda una lista de ficheros extra generados en la posible descompresion
+ %    (mejor script-&gt;install)
+ % script-&gt;remove : elimina los ficheros instalados, para poder instalar otra vez (posible nueva version)
+ % script-&gt;update?
+ 
+ % Las operaciones que debe ofrecer \famon son las siguientes:
  % TODO: operaciones de viliar / dejar paths concretos?
  
! % TODO: buscar un buen programa que lo haga =&gt; famd, gamin?

Index: 04.tex
===================================================================
RCS file: /cvsroot/plfs/doc/04.tex,v
retrieving revision 1.2
retrieving revision 1.3
diff -C2 -d -r1.2 -r1.3
*** 04.tex	11 Jun 2005 18:25:53 -0000	1.2
--- 04.tex	12 Jun 2005 20:13:22 -0000	1.3
***************
*** 7,10 ****
--- 7,11 ----
  
  
+ 
  \section{\kplfs $\rightarrow$ \uplfs}
  
***************
*** 31,38 ****
  utilizaremos un \textbf{dispositivo} para comunicar ambos componentes.
  
- \subsection{Tipos de mensajes}
  
  
! \section{\kplfs $\rightarrow$ \uplfs}
  Cuando se realice una operaci&#243;n (&quot;ls&quot;,&quot;mv&quot;, etc) en el sistema de ficheros
  \plfs, el m&#243;dulo de kernel \kplfs que implementa estas operaciones, deber&#225;
--- 32,39 ----
  utilizaremos un \textbf{dispositivo} para comunicar ambos componentes.
  
  
+ \subsection{Tipos de mensajes}
  
! % TODO: hace falta esta explicacion? ya esta hecha antes...
  Cuando se realice una operaci&#243;n (&quot;ls&quot;,&quot;mv&quot;, etc) en el sistema de ficheros
  \plfs, el m&#243;dulo de kernel \kplfs que implementa estas operaciones, deber&#225;
***************
*** 43,49 ****
  siguiente formato:
  
  	Campo1: Operacion (&quot;ls&quot;, &quot;mv&quot;, ...)
  	Campo2: Parametros (fichero, directorio...)
! 	
  
  \section{\uplfs $\rightarrow$ \pldb}
--- 44,52 ----
  siguiente formato:
  
+ % TODO: aclararlo con las operaciones de 02.tex/03.tex
  	Campo1: Operacion (&quot;ls&quot;, &quot;mv&quot;, ...)
  	Campo2: Parametros (fichero, directorio...)
! 
! 
  
  \section{\uplfs $\rightarrow$ \pldb}
***************
*** 58,62 ****
--- 61,67 ----
  
  
+ 
  \section{\uplfs $\rightarrow$ \dpld}
+ 
  % TODO: forma de comunicacion
  % TODO: formato de los mensajes


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000003.html">[Plfs-svn] doc 00-plfs.bib,1.1,1.2 02.tex,1.3,1.4 03.tex,1.1,1.2
</A></li>
	<LI>Next message: <A HREF="000005.html">[Plfs-svn] doc 00-plfs.tex,1.2,1.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4">[ date ]</a>
              <a href="thread.html#4">[ thread ]</a>
              <a href="subject.html#4">[ subject ]</a>
              <a href="author.html#4">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/plfs-svn">More information about the Plfs-svn
mailing list</a><br>
</body></html>
